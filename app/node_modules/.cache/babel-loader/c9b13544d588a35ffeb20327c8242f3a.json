{"ast":null,"code":"import _toConsumableArray from\"/Users/kelvinobioha/Documents/projects/Todo-App/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/kelvinobioha/Documents/projects/Todo-App/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from\"react\";import TodoList from\"./TodoList\";import uuidv4 from\"uuid/v4\";import\"./styles.css\";// import the CSS file\nvar LOCAL_STORAGE_KEY=\"todoApp.todos\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(e){var name=todoNameRef.current.value;if(name===\"\")return;setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:uuidv4(),name:name,complete:false}]);});todoNameRef.current.value=null;}function handleClearTodos(){var newTodos=todos.filter(function(todo){return!todo.complete;});setTodos(newTodos);}return React.createElement(\"div\",{className:\"container\"},React.createElement(TodoList,{todos:todos,toggleTodo:toggleTodo}),React.createElement(\"input\",{className:\"todo-input\",ref:todoNameRef,type:\"text\"}),React.createElement(\"button\",{className:\"todo-button\",onClick:handleAddTodo},\"Add Todo\"),React.createElement(\"button\",{className:\"clear-button\",onClick:handleClearTodos},\"Clear Complete\"),React.createElement(\"div\",{className:\"todo-count\"},\" \",todos.filter(function(todo){return!todo.complete;}).length,\" things left to do\"));}export default App;","map":{"version":3,"sources":["/Users/kelvinobioha/Documents/projects/Todo-App/app/src/App.js"],"names":["React","useState","useRef","useEffect","TodoList","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","e","name","current","value","prevTodos","handleClearTodos","filter","length"],"mappings":"oRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,SAAnB,CACA,MAAO,cAAP,CAAuB;AAEvB,GAAMC,CAAAA,iBAAiB,CAAG,eAA1B,CAEA,QAASC,CAAAA,GAAT,EAAe,eACaN,QAAQ,CAAC,EAAD,CADrB,wCACNO,KADM,eACCC,QADD,eAEb,GAAMC,CAAAA,WAAW,CAAGR,MAAM,EAA1B,CAEAC,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBT,iBAArB,CAAX,CAApB,CACA,GAAIK,WAAJ,CAAiBF,QAAQ,CAACE,WAAD,CAAR,CAClB,CAHQ,CAGN,EAHM,CAAT,CAKAR,SAAS,CAAC,UAAM,CACdW,YAAY,CAACE,OAAb,CAAqBV,iBAArB,CAAwCM,IAAI,CAACK,SAAL,CAAeT,KAAf,CAAxC,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,QAASU,CAAAA,UAAT,CAAoBC,EAApB,CAAwB,CACtB,GAAMC,CAAAA,QAAQ,oBAAOZ,KAAP,CAAd,CACA,GAAMa,CAAAA,IAAI,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAACD,IAAD,QAAUA,CAAAA,IAAI,CAACF,EAAL,GAAYA,EAAtB,EAAd,CAAb,CACAE,IAAI,CAACE,QAAL,CAAgB,CAACF,IAAI,CAACE,QAAtB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,QAASI,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGhB,WAAW,CAACiB,OAAZ,CAAoBC,KAAjC,CACA,GAAIF,IAAI,GAAK,EAAb,CAAiB,OACjBjB,QAAQ,CAAC,SAACoB,SAAD,CAAe,CACtB,mCAAWA,SAAX,GAAsB,CAAEV,EAAE,CAAEd,MAAM,EAAZ,CAAgBqB,IAAI,CAAEA,IAAtB,CAA4BH,QAAQ,CAAE,KAAtC,CAAtB,GACD,CAFO,CAAR,CAGAb,WAAW,CAACiB,OAAZ,CAAoBC,KAApB,CAA4B,IAA5B,CACD,CAED,QAASE,CAAAA,gBAAT,EAA4B,CAC1B,GAAMV,CAAAA,QAAQ,CAAGZ,KAAK,CAACuB,MAAN,CAAa,SAACV,IAAD,QAAU,CAACA,IAAI,CAACE,QAAhB,EAAb,CAAjB,CACAd,QAAQ,CAACW,QAAD,CAAR,CACD,CAED,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,oBAAC,QAAD,EAAU,KAAK,CAAEZ,KAAjB,CAAwB,UAAU,CAAEU,UAApC,EADF,CAEE,6BAAO,SAAS,CAAC,YAAjB,CAA8B,GAAG,CAAER,WAAnC,CAAgD,IAAI,CAAC,MAArD,EAFF,CAGE,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAEc,aAAzC,aAHF,CAME,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEM,gBAA1C,mBANF,CASE,2BAAK,SAAS,CAAC,YAAf,EACG,GADH,CAEGtB,KAAK,CAACuB,MAAN,CAAa,SAACV,IAAD,QAAU,CAACA,IAAI,CAACE,QAAhB,EAAb,EAAuCS,MAF1C,sBATF,CADF,CAgBD,CAED,cAAezB,CAAAA,GAAf","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport TodoList from \"./TodoList\";\nimport uuidv4 from \"uuid/v4\";\nimport \"./styles.css\"; // import the CSS file\n\nconst LOCAL_STORAGE_KEY = \"todoApp.todos\";\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const todoNameRef = useRef();\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (storedTodos) setTodos(storedTodos);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function toggleTodo(id) {\n    const newTodos = [...todos];\n    const todo = newTodos.find((todo) => todo.id === id);\n    todo.complete = !todo.complete;\n    setTodos(newTodos);\n  }\n\n  function handleAddTodo(e) {\n    const name = todoNameRef.current.value;\n    if (name === \"\") return;\n    setTodos((prevTodos) => {\n      return [...prevTodos, { id: uuidv4(), name: name, complete: false }];\n    });\n    todoNameRef.current.value = null;\n  }\n\n  function handleClearTodos() {\n    const newTodos = todos.filter((todo) => !todo.complete);\n    setTodos(newTodos);\n  }\n\n  return (\n    <div className=\"container\">\n      <TodoList todos={todos} toggleTodo={toggleTodo} />\n      <input className=\"todo-input\" ref={todoNameRef} type=\"text\" />\n      <button className=\"todo-button\" onClick={handleAddTodo}>\n        Add Todo\n      </button>\n      <button className=\"clear-button\" onClick={handleClearTodos}>\n        Clear Complete\n      </button>\n      <div className=\"todo-count\">\n        {\" \"}\n        {todos.filter((todo) => !todo.complete).length} things left to do\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}